<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Prisma</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script defer src="../js/bootstrap.min.js"></script>
    <script defer src="../js/modifyPrices.js"></script>
</head>

<body class="container bg-white p-3 d-flex flex-column min-vh-100">

    <div class="container mb-3">
        <h5 class="mb-0">Modificar Precios de Productos</h5>
        <div class="mb-3">
            <label for="modificationType" class="form-label">Seleccionar tipo de modificación</label>
            <select class="form-select" id="selectFilter" required>
                <option value="todos">Todos los productos</option>
                <option value="categoria">Por categoría</option>
                <option value="proveedor">Por proveedor</option>
            </select>
            <select class="form-select mt-3 d-none" id="selectCategory">
                <option value="">Seleccionar categoría</option>
            </select>
            <select class="form-select mt-3 d-none" id="selectSupplier">
                <option value="">Seleccionar categoría</option>
            </select>
            <p class="text-muted">Productos afectados: <span id="productosAfectados">0</span></p>
        </div>
        <div class="mb-3">
            <label for="porcentaje" class="form-label">Porcentaje (%)</label>
            <input type="number" class="form-control" id="porcentaje"
                placeholder="Ej: 10 para aumentar, -10 para reducir" required>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="redondear">
            <label class="form-check-label" for="redondear">
                Redondear precios finales
            </label>
        </div>
    </div>

    <div class="d-grid gap-1 mt-auto">
        <button type="submit" class="btn btn-dark" onclick="actualizarPrecios()">Aplicar modificación</button>
        <button type="submit" class="btn btn-secondary" onclick="window.close()">Cancelar</button>
    </div>

</body>

</html>

<!-- modal que muestra barra de progreso -->
<div class="modal fade user-select-none" id="progressModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-center align-items-center">
                <h5 class="modal-title" id="progressModalLabel">Actualizando precios...</h5>
            </div>
            <div class="modal-body d-flex flex-column align-items-center">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Cargando...</span>
                </div>
                <p class="mt-3 mb-0 text-center">Espere, por favor...</p>
            </div>
        </div>
    </div>
</div>